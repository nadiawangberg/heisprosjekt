<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Lift project: source/FSM.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lift project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">FSM.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Finite state machine, switches between the 4 finite states <code>IDLE</code>, <code>RUNNING</code>, <code>DOOR_OPEN</code>, <code>EMERGENCYSTOP</code>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="door_8h_source.html">door.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="elev_8h_source.html">elev.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="order_8h_source.html">order.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="emergencystop_8h_source.html">emergencystop.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="floor_8h_source.html">floor.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for FSM.h:</div>
<div class="dyncontent">
<div class="center"><img src="FSM_8h__incl.png" border="0" usemap="#source_2FSM_8h" alt=""/></div>
<map name="source_2FSM_8h" id="source_2FSM_8h">
<area shape="rect" id="node2" href="door_8h.html" title="door module, handles door open functionality, ensures the door is opened for 3 seconds then closed ag..." alt="" coords="276,80,335,107"/>
<area shape="rect" id="node6" href="elev_8h.html" title="elev module. " alt="" coords="212,304,269,331"/>
<area shape="rect" id="node7" href="order_8h.html" title="Order module, stores the orders in two lists, checks for new orders, adds, removes and manages the or..." alt="" coords="21,155,84,181"/>
<area shape="rect" id="node8" href="floor_8h.html" title="floor module, containing the floor enum. " alt="" coords="106,229,164,256"/>
<area shape="rect" id="node9" href="emergencystop_8h.html" title="emergency stop module, makes sure lift stops immediately and all orders removed when the stop button ..." alt="" coords="79,80,202,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="FSM_8h__dep__incl.png" border="0" usemap="#source_2FSM_8hdep" alt=""/></div>
<map name="source_2FSM_8hdep" id="source_2FSM_8hdep">
<area shape="rect" id="node2" href="emergencystop_8h.html" title="emergency stop module, makes sure lift stops immediately and all orders removed when the stop button ..." alt="" coords="5,155,171,181"/>
<area shape="rect" id="node4" href="order_8h.html" title="Order module, stores the orders in two lists, checks for new orders, adds, removes and manages the or..." alt="" coords="138,80,243,107"/>
<area shape="rect" id="node6" href="FSM_8c_source.html" title="source/FSM.c" alt="" coords="268,80,372,107"/>
<area shape="rect" id="node7" href="main_8c.html" title="The main file, initializes elev, fsm and then runs the fsm. " alt="" coords="396,80,500,107"/>
<area shape="rect" id="node3" href="emergencystop_8c_source.html" title="source/emergencystop.c" alt="" coords="5,229,171,256"/>
<area shape="rect" id="node5" href="order_8c_source.html" title="source/order.c" alt="" coords="194,155,299,181"/>
</map>
</div>
</div>
<p><a href="FSM_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad278733225752463f5d2037c57b641d0"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="FSM_8h.html#a2af5bc6b2437cab9b3dd701744368abf">tag_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSM_8h.html#ad278733225752463f5d2037c57b641d0">State</a></td></tr>
<tr class="separator:ad278733225752463f5d2037c57b641d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2af5bc6b2437cab9b3dd701744368abf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSM_8h.html#a2af5bc6b2437cab9b3dd701744368abf">tag_state</a> { <b>IDLE</b> = 1, 
<b>RUNNING</b>, 
<b>DOOR_OPEN</b>, 
<b>EMERGENCYSTOP</b>
 }</td></tr>
<tr class="separator:a2af5bc6b2437cab9b3dd701744368abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a005388f6e2fad37bb0824bf92193c865"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSM_8h.html#a005388f6e2fad37bb0824bf92193c865">init_FSM</a> ()</td></tr>
<tr class="separator:a005388f6e2fad37bb0824bf92193c865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891efeca975caaa8422495176292f2aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSM_8h.html#a891efeca975caaa8422495176292f2aa">FSM</a> ()</td></tr>
<tr class="separator:a891efeca975caaa8422495176292f2aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab35866a9fcf9da539677d0c3e910a245"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSM_8h.html#ab35866a9fcf9da539677d0c3e910a245">PrintState_FSM</a> (<a class="el" href="FSM_8h.html#ad278733225752463f5d2037c57b641d0">State</a> state)</td></tr>
<tr class="separator:ab35866a9fcf9da539677d0c3e910a245"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Finite state machine, switches between the 4 finite states <code>IDLE</code>, <code>RUNNING</code>, <code>DOOR_OPEN</code>, <code>EMERGENCYSTOP</code>. </p>

<p>Definition in file <a class="el" href="FSM_8h_source.html">FSM.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ad278733225752463f5d2037c57b641d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="FSM_8h.html#a2af5bc6b2437cab9b3dd701744368abf">tag_state</a>  <a class="el" href="FSM_8h.html#ad278733225752463f5d2037c57b641d0">State</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The states the finite state machine can be in, <code>IDLE</code>, <code>RUNNING</code>, <code>DOOR_OPEN</code>, <code>EMERGENCYSTOP</code> </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a2af5bc6b2437cab9b3dd701744368abf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="FSM_8h.html#a2af5bc6b2437cab9b3dd701744368abf">tag_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The states the finite state machine can be in, <code>IDLE</code>, <code>RUNNING</code>, <code>DOOR_OPEN</code>, <code>EMERGENCYSTOP</code> </p>

<p>Definition at line <a class="el" href="FSM_8h_source.html#l00028">28</a> of file <a class="el" href="FSM_8h_source.html">FSM.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a891efeca975caaa8422495176292f2aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FSM </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Runs the finite state machine. There are 4 states, <code>EMERGENCYSTOP</code>, <code>DOOR_OPEN</code>, <code>RUNNING</code> and <code>IDLE</code> given by struct State. Emergency stop state and door open state are described by their corresponding modules. Running state is moving the lift in the direction given by the order module. In idle the lift is waiting for orders with the doors closed. The transitions between states is shown and explained in the state diagram. </p>

<p>Definition at line <a class="el" href="FSM_8c_source.html#l00038">38</a> of file <a class="el" href="FSM_8c_source.html">FSM.c</a>.</p>

</div>
</div>
<a class="anchor" id="a005388f6e2fad37bb0824bf92193c865"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_FSM </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes state machine Initializes lift positition, when position is initialized lift transitions to idle state. </p>

<p>Definition at line <a class="el" href="FSM_8c_source.html#l00023">23</a> of file <a class="el" href="FSM_8c_source.html">FSM.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab35866a9fcf9da539677d0c3e910a245"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrintState_FSM </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSM_8h.html#ad278733225752463f5d2037c57b641d0">State</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints state </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>Which state to print </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FSM_8c_source.html#l00004">4</a> of file <a class="el" href="FSM_8c_source.html">FSM.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
